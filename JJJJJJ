


populateCityFilter(Array.from(citySet));

....
if (device.city) {
    citySet.add(device.city);
}





....
let citySet = new Set(); // collect unique cities