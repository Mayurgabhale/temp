useEffect(() => {
  setLoading(true);
  fetchHistory()  // Always fetch full history
    .then(json => setData(json))
    .finally(() => setLoading(false));
}, []);