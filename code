const partitionRows = useMemo(() => {
  if (!summaryEntry) return [];

  return Object.entries(summaryEntry.partitions)
    .filter(([key]) =>
      !backendFilterKey ? true : key === backendFilterKey
    )
    .map(([key, vals]) => {
      const feCode = apacReverseKey[key];
      const display = feCode && apacPartitionDisplay[feCode];

      return {
        country: display ? display.country : key,
        city:    display ? display.city    : key,
        employee:   vals.Employee   ?? 0,
        contractor: vals.Contractor ?? 0,
        total:      vals.total      ?? 0,
      };
    });
}, [summaryEntry, backendFilterKey]);