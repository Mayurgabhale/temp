// After this line inside populateDeviceTable:
devices.forEach((d,i) => {
  // existing row insertion code...
});

// âœ… Add this block AFTER `devices.forEach(...)` inside populateDeviceTable
const cityFilter = document.getElementById('cityFilter');
if (cityFilter) {
  const uniqueCities = [...new Set(devices.map(dev => dev.city).filter(Boolean))].sort();
  cityFilter.innerHTML = '<option value="all">All Cities</option>';
  uniqueCities.forEach(city => {
    const option = document.createElement('option');
    option.value = city;
    option.textContent = city;
    cityFilter.appendChild(option);
  });
}






document.getElementById('cityFilter')?.addEventListener('change', filterData);