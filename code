function filterData() {
  const searchValue = document.getElementById('searchBox').value.toLowerCase();
  const selectedCity = document.getElementById('cityFilter').value.toLowerCase();
  const selectedLocation = document.getElementById('locationFilter').value.toLowerCase();

  const rows = document.querySelectorAll('#deviceTable tbody tr');
  rows.forEach(row => {
    const name = row.cells[0].textContent.toLowerCase();
    const category = row.cells[1].textContent.toLowerCase();
    const safe = row.cells[2].textContent.toLowerCase();
    const current = row.cells[3].textContent.toLowerCase();
    const city = row.cells[4].textContent.toLowerCase();
    const location = row.cells[5].textContent.toLowerCase();

    const matchesSearch = [name, category, safe, current, city, location].some(text =>
      text.includes(searchValue)
    );
    const matchesCity = !selectedCity || city === selectedCity;
    const matchesLocation = !selectedLocation || location === selectedLocation;

    row.style.display = (matchesSearch && matchesCity && matchesLocation) ? '' : 'none';
  });
}