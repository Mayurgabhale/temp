useEffect(() => {
  if (data && !pickedDate && data.summaryByDate?.length > 0) {
    const latestDate = data.summaryByDate[data.summaryByDate.length - 1].date;
    setPickedDate(new Date(latestDate));
  }
}, [data, pickedDate]);







const summaryEntry = useMemo(() => {
  if (!data || !pickedDate) return null;

  const dateStr = format(pickedDate, 'yyyy-MM-dd');

  const match = data.summaryByDate.find(r =>
    r.date === dateStr || r.date.startsWith(dateStr)
  );

  return match || null;
}, [data, pickedDate]);




