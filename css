

label={({ name, percent }) => {
  const item = renderData.find(d => d.name === name);
  return item ? `${(item.percent * 100).toFixed(0)}%` : '';
}}






const renderData = useMemo(() => {
  const rawData = (total === 0 && showZeroSlice)
    ? [{ name: 'Available', value: data[1]?.value || 0 }]
    : data;

  return rawData.map(d => ({
    ...d,
    percent: total > 0 ? d.value / total : 0,
  }));
}, [data, total, showZeroSlice]);