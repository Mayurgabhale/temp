const flagMap = {
  'CR.Costa Rica Partition': CostaRicaFlag,
  'AR.Cordoba': ArgentinaFlag,
  'MX.Mexico City': MexicoFlag,
  'PE.Lima': PeruFlag,
  'BR.Sao Paulo': BrazilFlag,
  'PA.Panama City': PanamaFlag,
};

const partitions = partitionList.map(name => {
  const key = Object.keys(regions).find(k => k.includes(name));
  const p = key ? regions[key] : {};
  return {
    name,
    total: p.total || 0,
    Employee: p.Employee || 0,
    Contractor: p.Contractor || 0,
    floors: p.floors || {},
    flag: flagMap[name], // âœ… Assign the correct flag here
  };
}).sort((a, b) => b.total - a.total);