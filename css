const floorEntries = useMemo(() => {
  return Object.entries(live.floors).map(([floor, cnt]) => {
    const name = floor.trim();

    // Try floor-level capacity
    let capacity = buildingCapacities[name];

    // Fallback to partition-level seat capacity
    if (capacity == null) {
      capacity = seatCapacities[partition] ?? 0;
    }

    const pct = capacity ? Math.round((cnt / capacity) * 100) : 0;

    return {
      name,
      Headcount: cnt,
      Capacity: capacity,
      breakdown: {
        Headcount: cnt,
        'Total Seat': capacity,
        Usage: `${pct}%`,
      },
    };
  });
}, [live.floors, partition]);